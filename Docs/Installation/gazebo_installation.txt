This guide assumes you are running Ubuntu 12.04.

0. Install dependencies
   $ sudo apt-get install build-essential libtinyxml-dev libtbb-dev libxml2-dev libqt4-dev pkg-config  libprotoc-dev libfreeimage-dev libprotobuf-dev protobuf-compiler libboost-all-dev freeglut3-dev cmake libtar-dev libcurl4-openssl-dev

   $ sudo apt-get install ros-fuerte-common-msgs ros-fuerte-geometry ros-fuerte-image-common ros-fuerte-pr2-mechanism ros-fuerte-std-msgs ros-fuerte-urdfdom ros-fuerte-pr2-controllers ros-fuerte-geometry-experimental ros-fuerte-robot-model-visualization

1. Install OGRE from source
   $ cd ~
   $ hg clone http://bitbucket.org/sinbad/ogre/ ogre
   $ cd ogre
   $ hg tags
   $ hg update v1-8-1  (or whichever is the newest version listed by hg tags) 
   $ mkdir build
   $ cd build
   $ cmake ..
   $ make
   $ sudo make install 
   $ sudo mv /usr/local/lib/OGRE/*.so* /usr/local/lib/
   $ sudo ldconfig

2. Install Gazebo from source
   $ cd ~
   $ hg clone https://bitbucket.org/osrf/gazebo gazebo
   $ cd gazebo
   $ hg update
   $ mkdir build
   $ cd build
   $ cmake -DPKG_CONFIG_PATH=/opt/ros/fuerte/lib/pkgconfig/ ..
   $ make
   $ sudo make install 
   $ sudo ldconfig

3. Setup Gazebo environment variables 
   - edit ~/.bashrc and add the following lines: 
     export PKG_CONFIG_PATH=/usr/lib/pkgconfig:$PKG_CONFIG_PATH
     source /usr/share/gazebo-1.2/setup.sh
     export GAZEBO_MODEL_DATABASE_URI=http://gazebosim.org/models

   - edit /usr/share/gazebo-1.2/setup.sh and add the following line:
     export OGRE_RESOURCE_PATH=/usr/local/lib:

   (replace "gazebo-1.2" above with whichever version you installed)

4. Install drcsim from source
   - At this point gazebo should be working. Test it out using
   $ gazebo
   - To install the drcsim extras follow these instructions

   $ cd ~
   $ hg clone https://bitbucket.org/osrf/drcsim
   $ cd drcsim
   $ hg update
   $ mkdir build
   $ cd build
   $ cmake ..
   $ make
   $ sudo make install
   - edit ~/.bashrc and add the following line:
     source /usr/local/share/drcsim-1.0/setup.sh
     source /opt/ros/fuerte/setup.sh
