% Bad
struct(...
'team',struct('number',18,'player_id',2,'role',1,'states',...
[['teamNumber',18,'attackBearing',0,'pose',['y',0,'x',0,'a',0],'teamColor',0,'tReceive',1323867191.5,'role',-1,'penalty',0,'ball',struct('t',0,'x',1,'y',0),'time',1323867191.5,'id',2)),...
'color',0),...
'goal',struct('postBoundingBox2',struct('x2',0,'x1',0,'y2',0,'y1',0),'v2',struct('y',0,'x',0,'z',0,'scale',0),'color',0,'detect',0,'type',0,'postBoundingBox1',struct('x2',0,'x1',0,'y2',0,'y1',0),'v1',struct('y',0,'x',0,'z',0,'scale',0)),...
'time',1323867203.9317,...
'robot',struct('pose',struct('y',0.73800654836603,'x',-1.7714499501517,'a',1.5499862546123)),...
'ball',struct('t',0,'x',1,'axisMinor',0,'detect',0,'axisMajor',0,'y',0,'centroid',struct('y',0,'x',0)))

% Almost good
msg = struct('team',struct('number',18,'player_id',2,'role',1,'states',{{'teamNumber',18,'attackBearing',0,'pose',{'y',0,'x',0,'a',0},'teamColor',0,'tReceive',1323867191.5,'role',-1,'penalty',0,'ball',struct('t',0,'x',1,'y',0),'time',1323867191.5,'id',2}},'color',0),'goal',struct('postBoundingBox2',struct('x2',0,'x1',0,'y2',0,'y1',0),'v2',struct('y',0,'x',0,'z',0,'scale',0),'color',0,'detect',0,'type',0,'postBoundingBox1',struct('x2',0,'x1',0,'y2',0,'y1',0),'v1',struct('y',0,'x',0,'z',0,'scale',0)),'time',1323867203.9066,'robot',struct('pose',struct('y',0.73800654836603,'x',-1.7714499501517,'a',1.5499862546123)),'ball',struct('t',0,'x',1,'axisMinor',0,'detect',0,'axisMajor',0,'y',0,'centroid',struct('y',0,'x',0)))

% Good
% Replace-all [ with struct(
% Replace-all ] with )
msg = struct(...
'team',struct('number',18,'player_id',2,'role',1,'states',...
struct(struct('teamNumber',18,'attackBearing',0,'pose',struct('y',0,'x',0,'a',0),'teamColor',0,'tReceive',1323867191.5,'role',-1,'penalty',0,'ball',struct('t',0,'x',1,'y',0),'time',1323867191.5,'id',2)),...
'color',0),...
'goal',struct('postBoundingBox2',struct('x2',0,'x1',0,'y2',0,'y1',0),'v2',struct('y',0,'x',0,'z',0,'scale',0),'color',0,'detect',0,'type',0,'postBoundingBox1',struct('x2',0,'x1',0,'y2',0,'y1',0),'v1',struct('y',0,'x',0,'z',0,'scale',0)),...
'time',1323867203.9317,...
'robot',struct('pose',struct('y',0.73800654836603,'x',-1.7714499501517,'a',1.5499862546123)),...
'ball',struct('t',0,'x',1,'axisMinor',0,'detect',0,'axisMajor',0,'y',0,'centroid',struct('y',0,'x',0)))

% Still bad?
struct('team',struct('number',18,'player_id',2,'role',1,'states',struct(struct(2),struct('teamNumber',18,'attackBearing',0,'pose',struct('y',0,'x',0,'a',0),'teamColor',0,'tReceive',1323868248.0703,'role',-1,'penalty',0,'ball',struct('t',0,'x',1,'y',0),'time',1323868248.0703,'id',2)),'color',0),'goal',struct('postBoundingBox2',struct('x2',0,'x1',0,'y2',0,'y1',0),'v2',struct('y',0,'x',0,'z',0,'scale',0),'color',0,'detect',0,'type',0,'postBoundingBox1',struct('x2',0,'x1',0,'y2',0,'y1',0),'v1',struct('y',0,'x',0,'z',0,'scale',0)),'time',1323868328.2475,'robot',struct('pose',struct('y',1.413087466984,'x',-2.0283087989533,'a',1.5378134414617)),'ball',struct('t',0,'x',1,'axisMinor',0,'detect',0,'axisMajor',0,'y',0,'centroid',struct('y',0,'x',0)))


team = msg.team