<style>
  #container {
    background: #000;
    width: 400px;
    height: 300px;
  }
</style>

<div id="gyro">
</div>

<div id="container">
</div>

<script src="http://zeptojs.com/zepto.min.js"></script>
<script src="http://mrdoob.github.com/three.js/build/three.min.js"></script>
<script src="http://mrdoob.github.com/three.js/examples/js/controls/TrackballControls.js"></script>
<script src="http://mrdoob.github.com/three.js/examples/js/Detector.js"></script>
<script src="http://mrdoob.github.com/three.js/examples/js/libs/stats.min.js"></script>

<!-- BinaryJS Receiving -->
<script src="http://cdn.binaryjs.com/0/binary.js"></script>
<script>
  var ranges;
  var client = new BinaryClient('ws://ese650.mooo.com:9000');
  client.on('stream', function(stream, meta){
    console.log('Subscribing to the '+meta+" stream.");
    if(meta=='lidar'){
      stream.on('data', function(data){
        ranges = new Float32Array( data );
        update_particles( ranges );
      });
    } else if(meta=='imu') {
      stream.on('data', function(data){
        $('#gyro').text( 'Roll: '+data.R );
      });
    }
  });
</script>

<!--WebGL stuff-->
<script src="lidar_gl.js"></script>
