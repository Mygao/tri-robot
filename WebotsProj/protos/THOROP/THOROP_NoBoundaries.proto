#############################################
# THOR-OP webots prototype file
# Based on Robotis wbt
# Converted and augmented by SJ
# 2013/7
#############################################

PROTO THOROP_NoBoundaries [
  field SFVec3f    translation 0 1 0
  field SFRotation rotation 0 1 0 0
  field SFString   controller "void"
  field SFString   controllerArgs ""
  field SFBool     synchronization TRUE
  field SFString   name "THOROP"
  field SFVec2f    cameraWindowPosition 0 0
  field SFFloat    cameraPixelSize 1.0
  field SFInt32    cameraWidth 320
  field SFInt32    cameraHeight 240
	field SFFloat    cameraFov 1.0472
#  field SFInt32    channel 0
]
{
Supervisor {
  translation IS translation
  rotation IS rotation
  controller IS controller
  controllerArgs IS controllerArgs
  synchronization IS synchronization
  name IS name

  children [
    DEF neck_frame Transform {
      translation 0 0.035 0
      children [
        Shape {
          appearance Appearance {
            material Material {
              diffuseColor 0.243 0.243 0.243
              emissiveColor 0.08 0.08 0.08
              specularColor 0.1 0.1 0.1
            }
          }
          geometry Box {
            size 0.04 0.012 0.04
          }
        }
      ]
    }
    DEF Chest Transform {
      scale 0.001 0.001 0.001
      children [
        CHEST{}
      ]
    }
    InertialUnit {
      rotation 0 1 0 -1.5708
      name "InertialUnit"
    }
    Compass {
      rotation 0 1 0 -1.5708
      name "Compass"
    }
    GPS {
      rotation 0 1 0 -1.5708
      name "GPS"
    }
    Accelerometer {
      translation 0 0 0.02
      rotation 0 0.707107 0.707107 3.14159
      name "Accelerometer"
      lookupTable [
        -39.24 0 0
        39.24 1024 0
      ]
    }
    Gyro {
      rotation -0.57735 0.57735 0.57735 2.09
      name "Gyro"
      lookupTable [
        -27.925 0 0
        27.925 1024 0
      ]
    }
    DEF Chest_Lidar_yaw Servo {
      translation 0 -0.05 0.1
      rotation 0 1 0 -1.046 #60 deg
      #rotation 0 1 0 1.046 #60 deg
      #rotation 0 1 0 2.094 #120 deg
      #rotation 0 1 0 -2.094 #-120 deg
      children [
        Solid{
          rotation 0 0 1 1.57
	        children [ 
            hokuyo{
              name "ChestLidar"
						}
          ]
          physics Physics{
					  density -1
				    mass 0.2
				  } 
        }
      ]
      name "ChestLidarPan"
      physics Physics {
        density -1
        mass 0.2
      }
      maxVelocity 16
      maxForce 40
    }
    DEF RECEIVER Receiver {
      name "receiver"
      channel IS channel
    }
    DEF EMITTER Emitter {
      name "emitter"
      channel IS channel
    }

    DEF PHYSICS_RECEIVER Receiver {
      name "physics_receiver"
      type "serial"
      channel 10
      byteSize 192
    }
    DEF PHYSICS_EMITTER Emitter {
      name "physics_emitter"
      type "serial"
      byteSize 96
    }

    DEF Right_shoulder_pitch Servo {
      translation -0.216 -0.008 0
      rotation -1 0 0 0
      children [
        DEF Right_shoulder_pitch Transform {
          translation 0.05 0 0
          rotation 0 0 1 -1.5708
          scale 0.001 0.001 0.001
          children [
            RIGHT_SHOULDER_PITCH{}
          ]
        }
        DEF Right_shoulder_roll Servo {
          rotation 0 0 -1 0.17
          children [
            DEF Right_shoulder_yaw Servo {
              children [
                DEF Right_elbow_pitch Servo {
                  translation 0 -0.246 0.03
                  rotation -1 0 0 0.7854
                  children [
                    DEF Right_wrist_yaw Servo {
                      translation 0 -0.216 -0.03
                      children [
                        DEF Right_wrist_roll Servo {
                          rotation 0 0 -1 0
                          children [


######################################################################
# RGRIP START

              Transform{   #Palm
                translation 0 -0.065 0
                children [
                  Shape{geometry Box {size 0.05 0.065 0.02}}
                ]
              }
			        DEF r_wrist_grip1 Servo{ #First finger for gripper
      			    translation 0.02 -0.04 0
			          rotation 0 0 1 0.78
			          name "r_wrist_grip1"
			          children[
			            Transform{
		                translation 0 -0.06 0
                    children [
                      Shape{geometry Box {size 0.02 0.12 0.02}}
			              ]
                  }
      			      Transform{
                    translation -0.025 -0.12 0
                    children [
                      Shape{geometry Box {size 0.05 0.02 0.02}}
			              ]
                  }
      			    ]
                boundingObject Group{
                  children[
                    Transform {
                      translation 0 -0.06 0
                      children [Box {size 0.02 0.12 0.02}]
                    }
		                Transform {
                      translation -0.025 -0.12 0
                      children [Box {size 0.05 0.02 0.02}]
                    }
                  ]
               }
               physics Physics {}
             }
						 DEF r_wrist_grip2 Servo{ #Second finger for gripper
		           translation -0.02 -0.08 0
     		       rotation 0 0 1 0.78
			         name "r_wrist_grip2"
      		     children[
	               Transform{
                   translation 0 -0.06 0
                   children [
                     Shape{geometry Box {size 0.02 0.12 0.02}}
     			         ]
                 }
          			 Transform{
                   translation 0.025 -0.12 0
                   children [
                     Shape{geometry Box {size 0.05 0.02 0.02}}
                   ]
                 }
		          ]
              boundingObject Group{
                children[
                  Transform{
                    translation 0 -0.06 0
                    children [Box {size 0.02 0.12 0.02}]
                  }
                  Transform{
                    translation 0.025 -0.12 0
                    children [Box {size 0.05 0.02 0.02}]
                  }
                ]
              }
              physics Physics {}
           }


# RGRIP END
######################################################################



                          ]
                          name "RightWristRoll"
                          physics Physics {
                            density -1
                            mass 0.4
                            centerOfMass 0 -0.1 0
                          }
                          maxForce 40
                          controlP 16
                        }
                        DEF Right_wrist Transform {
                          scale 0.001 0.001 0.001
                          children [
                            RIGHT_WRIST{}
                          ]
                        }
                      ]
                      name "RightWristYaw"
#                      boundingObject Transform {
#                        children [
#                          Box {
#                            size 0.05 0.05 0.1
#                          }
#                        ]
#                      }
                      physics Physics {
                        density -1
                        mass 0.2
                      }
                      maxForce 40
                      controlP 16
                    }
                    DEF Right_elbow Transform {
                      translation 0 0 -0.03
                      rotation 0 1 0 3.14159
                      scale 0.001 0.001 0.001
                      children [
                        RIGHT_ELBOW{}
                      ]
                    }
                  ]
                  name "ArmLowerR"
#                  boundingObject Group {
#                     children [
#                      Transform {
#                        rotation 1 0 0 0.7854
#                        children [
#                          Box {
#                            size 0.13 0.065 0.065
#                          }
#                        ]
#                      }
#                      Transform {
#                        translation 0 -0.115 -0.03
#                        children [
#                          Box {
#                            size 0.055 0.16 0.055
#                          }
#                        ]
#                      }
#                    ]
#                  }
                  physics Physics {
                    density -1
                    mass 0.5
                    centerOfMass 0 -0.09 -0.02
                  }
                  maxForce 100
                  controlP 16
                }
                DEF Right_arm Transform {
                  translation 0 -0.027 0
                  rotation 0 1 0 3.14159
                  scale 0.001 0.001 0.001
                  children [
                    RIGHT_ARM{}
                  ]
                }
              ]
              name "RightShoulderYaw"
#              boundingObject Transform {
#                translation 0 -0.13 0
#                children [
#                  Box {
#                    size 0.07 0.22 0.07
#                  }
#                ]
#              }
              physics Physics {
                density -1
                mass 0.8
                centerOfMass 0 -0.15 0.01
              }
              maxForce 100
              controlP 16
            }
            DEF Right_shoulder_roll Transform {
              translation 0 0 0.024
              scale 0.001 0.001 0.001
              children [
                RIGHT_SHOULDER_ROLL{}
              ]
            }
          ]
          name "ArmUpperR"
#          boundingObject Transform {
#            children [
#              Box {
#                size 0.06 0.06 0.13
#              }
#            ]
#          }
          physics Physics {
            density -1
            mass 0.3
          }
          maxForce 100
          controlP 16
        }
      ]
      name "ShoulderR"
#      boundingObject Transform {
#        translation 0.01 0 0
#        children [
#          Box {
#            size 0.085 0.066 0.15
#          }
#        ]
#      }
      physics Physics {
        density -1
        mass 0.1
      }
      maxForce 100
      controlP 16
    }
    DEF Left_shoulder_pitch Servo {
      translation 0.216 -0.008 0
      rotation 1 0 0 0
      children [
        DEF Left_shoulder_roll Servo {
          rotation 0 0 -1 -0.17
          children [
            DEF Left_shoulder_yaw Servo {
              children [
                DEF Left_elbow_pitch Servo {
                  translation 0 -0.246 0.03
                  rotation 1 0 0 -0.7854
                  children [
                    DEF Left_wrist_yaw Servo {
                      translation 0 -0.216 -0.03
                      children [
                        DEF Left_wrist_roll Servo {
                          rotation 0 0 -1 0
                          children [


###########################################################
## LGRIP START

                   Transform{   #Palm
                     translation 0 -0.065 0 
                     children [
                       Shape{geometry Box {size 0.05 0.065 0.02}}
                     ]
                   }
                   DEF l_wrist_grip1 Servo{ #First finger for gripper
					          translation 0.02 -0.08 0
          					rotation 0 0 1 -0.78
					          name "l_wrist_grip1"
					          children[
					            Transform{
                        translation 0 -0.06 0
                        children [
                          Shape{geometry Box {size 0.02 0.12 0.02}}
          					    ]
                      }
					            Transform{
                        translation -0.025 -0.12 0
                        children [
                          Shape{geometry Box {size 0.05 0.02 0.02}}
          					    ]
                      }
					          ]
                    boundingObject Group{
                      children[
                        Transform {
                          translation 0 -0.06 0
                          children [Box {size 0.02 0.12 0.02}]
                        }
                        Transform {
                          translation -0.025 -0.12 0
                          children [Box {size 0.05 0.02 0.02}]
                        }
                      ]
                    }
                    physics Physics {}
					        }
                  DEF l_wrist_grip2 Servo{ #Second finger for gripper
					          translation -0.02 -0.04 0
          					rotation 0 0 1 -0.78
					          name "l_wrist_grip2"
					          children[
					            Transform{
                        translation 0 -0.06 0
                        children [
                          Shape{geometry Box {size 0.02 0.12 0.02}}
           						  ]
                      }
					            Transform{
                        translation 0.025 -0.12 0
                        children [
                          Shape{geometry Box {size 0.05 0.02 0.02}}
          					    ]
					            }
					          ]
                    boundingObject Group{
                      children[
                        Transform {
                          translation 0 -0.06 0
                            children [Box {size 0.02 0.12 0.02}]
                        }
                        Transform {
                          translation 0.025 -0.12 0
                          children [Box {size 0.05 0.02 0.02}]
                        }
                      ]
                    }
                    physics Physics {}
        }





###########################################################

#                            DEF Left_gripper Transform {
#                              scale 0.001 0.001 0.001
#                              children [
#                               LEFT_GRIPPER{}                                
#                              ]
#                            }


                          ]


                          name "LeftWristRoll"
                          physics Physics {
                            density -1
                            mass 0.4
                            centerOfMass 0 -0.1 0
                          }
                          maxForce 40
                          controlP 16
                        }
                        DEF Right_wrist Transform {
                          scale 0.001 0.001 0.001
                          children [
                             RIGHT_WRIST{}
                          ]
                        }
                      ]
                      name "LeftWristYaw"
#                      boundingObject Transform {
#                        children [
#                          Box {
#                            size 0.05 0.05 0.1
#                          }
#                        ]
#                      }
                      physics Physics {
                        density -1
                        mass 0.2
                      }
                      maxForce 40
                      controlP 16
                    }
                    DEF Left_elbow Transform {
                      translation 0 0 -0.03
                      scale 0.001 0.001 0.001
                      children [
                        LEFT_ELBOW{}
                      ]
                    }
                  ]
                  name "ArmLowerL"
#                  boundingObject Group {
#                    children [
#                      Transform {
#                        rotation 1 0 0 0.7854
#                        children [
#                          Box {
#                            size 0.13 0.065 0.065
#                          }
#                        ]
#                      }
#                      Transform {
#                        translation 0 -0.115 -0.03
#                        children [
#                          Box {
#                            size 0.055 0.16 0.055
#                          }
#                        ]
#                      }
#                    ]
#                  }
                  physics Physics {
                    density -1
                    mass 0.5
                    centerOfMass 0 -0.09 -0.02
                  }
                  maxForce 100
                  controlP 16
                }
                DEF Left_arm Transform {
                  translation 0 -0.027 0
                  scale 0.001 0.001 0.001
                  children [
                    LEFT_ARM{}
                  ]
                }
              ]
              name "LeftShoulderYaw"
#              boundingObject Transform {
#                translation 0 -0.13 0
#                children [
#                  Box {
#                    size 0.07 0.22 0.07
#                  }
#                ]
#              }
              physics Physics {
                density -1
                mass 0.8
                centerOfMass 0 -0.15 0.01
              }
              maxForce 100
              controlP 16
            }
            DEF Right_shoulder_roll Transform {
              translation 0 0 0.024
              scale 0.001 0.001 0.001
              children [
	        RIGHT_SHOULDER_ROLL{}
              ]
            }
          ]
          name "ArmUpperL"
#          boundingObject Transform {
#            children [
#              Box {
#                size 0.06 0.06 0.13
#              }
#            ]
#          }
          physics Physics {
            density -1
            mass 0.3
          }
          maxForce 100
          controlP 16
        }
        DEF Left_shoulder_pitch Transform {
          translation -0.05 0 0
          rotation 0 0 1 1.5708
          scale 0.001 0.001 0.001
          children [
            LEFT_SHOULDER_PITCH{}
          ]
        }
      ]
      name "ShoulderL"
#      boundingObject Transform {
#        translation -0.01 0 0
#        children [
#          Box {
#            size 0.085 0.066 0.15
#          }
#        ]
#      }
      physics Physics {
        density -1
        mass 0.1
      }
      maxForce 100
      controlP 16
    }
    DEF Torso_pitch Servo {
      translation 0 -0.17 0
      rotation -1 0 0 0
      children [
        DEF Torso_yaw Servo {
          translation 0 -0.038 0
          children [
            DEF Pelvis Transform {
              translation 0 -0.0875 0
              scale 0.001 0.001 0.001
              children [
                PELVIS{}
              ]
            }
            DEF Right_hip_yaw Servo {
              translation -0.072 -0.232 0
              rotation 0 -1 0 0
              children [
                DEF Right_hip_roll Servo {
                  rotation 0 0 -1 0
                  children [
                    DEF Right_hip_pitch Servo {
                      rotation 1 0 0 0
                      children [
                        DEF R_thigh Transform {
                          rotation 0 1 0 3.14159
                          scale 0.001 0.001 0.001
                          children [
                            R_THIGH{}
                          ]
                        }
                        DEF Right_knee_pitch Servo {
                          translation 0 -0.3 -0.03
                          rotation 1 0 0 0
                          children [
                            DEF R_leg Transform {
                              translation 0 0 0.03
                              rotation 0 1 0 3.14159
                              scale 0.001 0.001 0.001
                              children [
                                R_LEG{}
                              ]
                            }
                            DEF Right_ankle_pitch Servo {
                              translation 0 -0.3 0.03
                              rotation -1 0 0 0
                              children [
                                DEF Right_ankle_roll Servo {
                                  rotation 0 0 1 0
                                  children [
                                    DEF R_LR_FSR TouchSensor {
                                      translation -0.04 -0.118 -0.06
                                      rotation 1 0 0 1.5708
                                      name "R_LR_FSR"
                                      boundingObject Sphere {
                                        radius 0.001
                                      }
                                      physics Physics {
                                        density -1
                                        mass 0.0001
                                      }
                                      type "force"
                                    }
                                    DEF R_LL_FSR TouchSensor {
                                      translation 0.04 -0.118 -0.06
                                      rotation 1 0 0 1.5708
                                      name "R_LL_FSR"
                                      boundingObject Sphere {
                                        radius 0.001
                                      }
                                      physics Physics {
                                        density -1
                                        mass 0.0001
                                      }
                                      type "force"
                                    }
                                    DEF R_UR_FSR TouchSensor {
                                      translation -0.04 -0.118 0.1
                                      rotation 1 0 0 1.5708
                                      name "R_UR_FSR"
                                      boundingObject Sphere {
                                        radius 0.001
                                      }
                                      physics Physics {
                                        density -1
                                        mass 0.0001
                                      }
                                      type "force"
                                    }
                                    DEF R_UL_FSR TouchSensor {
                                      translation 0.04 -0.118 0.1
                                      rotation 1 0 0 1.5708
                                      name "R_UL_FSR"
                                      boundingObject Sphere {
                                        radius 0.001
                                      }
                                      physics Physics {
                                        density -1
                                        mass 0.0001
                                      }
                                      type "force"
                                    }
                                    DEF Foot Transform {
                                      scale 0.001 0.001 0.001
                                      children [
                                        FOOT{}
                                      ]
                                    }
                                    DEF Right_ankle_force TouchSensor {
                                      translation 0 -0.09 0
                                      name "RAnkle_force"
                                      boundingObject Transform {
                                        translation 0 -0.003 0.0177
                                        children [
                                          Box {
                                            size 0.147 0.05 0.262
                                          }
                                        ]
                                      }
                                      physics Physics {
                                      }
                                      type "force-3d"
                                    }
                                    DEF Right_ankle_yaw Servo {
                                      translation 0 -0.09 0
                                      name "right_ankle_yaw"
#                                      boundingObject Transform {
#                                        translation 0 -0.003 0.0177
#                                        children [
#                                          Box {
#                                            size 0.147 0.05 0.262
#                                          }
#                                        ]
#                                      }
                                      physics Physics {
                                      }
                                      maxForce 100
                                      controlP 16
                                    }
                                  ]
                                  name "FootR"
                                  boundingObject Group {
                                    children [
                                      Transform {
                                        translation 0 -0.1115 0.018
                                        children [
                                          Box {
                                            size 0.145 0.012 0.26
                                          }
                                        ]
                                      }
#                                      Transform {
#                                        translation 0 -0.04 -0.013
#                                        children [
#                                          Box {
#                                            size 0.066 0.14 0.13
#                                          }
#                                        ]
#                                      }
                                    ]
                                  }
                                  physics Physics {
                                    density -1
                                    mass 0.6
                                    centerOfMass -0.01 -0.07 0.02
                                  }
                                  maxForce 100
                                  controlP 16
                                }
                                DEF Left_ankle Transform {
                                  scale 0.001 0.001 0.001
                                  children [
                                    LEFT_ANKLE{}
                                  ]
                                }
                              ]
                              name "AnkleR"
#                              boundingObject Transform {
#                                translation 0 0 -0.012
#                                children [
#                                  Box {
#                                    size 0.06 0.06 0.12
#                                  }
#                                ]
#                              }
                              physics Physics {
                                density -1
                                mass 0.2
                              }
                              maxForce 200
                              controlP 16
                            }
                          ]
                          name "LegLowerR"
#                          boundingObject Transform {
#                            translation -0.025 -0.192 0.043
#                            children [
#                              Box {
#                                size 0.144 0.35 0.085
#                              }
#                            ]
#                          }
                          physics Physics {
                            density -1
                            mass 1.1
                            centerOfMass -0.01 -0.16 0
                          }
                          maxForce 200
                          controlP 16
                        }
                      ]
                      name "LegUpperR"
#                      boundingObject Group {
#                        children [
#                          Transform {
#                            translation -0.025 -0.145 0.012
#                            children [
#                              Box {
#                                size 0.144 0.355 0.085
#                              }
#                            ]
#                          }
#                          Transform {
#                            translation -0.025 -0.3 -0.025
#                            rotation 1 0 0 0.7854
#                            children [
#                              Box {
#                                size 0.144 0.066 0.066
#                              }
#                            ]
#                          }
#                        ]
#                      }
                      physics Physics {
                        density -1
                        mass 1.1
                        centerOfMass -0.01 -0.18 0
                      }
                      maxForce 200
                      controlP 16
                    }
                    DEF Right_hip_roll Transform {
                      scale 0.001 0.001 0.001
                      children [
                        RIGHT_HIP_ROLL{}
                      ]
                    }
                  ]
                  name "PelvR"
#                  boundingObject Transform {
#                    translation 0 0 -0.03
#                    children [
#                      Box {
#                        size 0.07 0.07 0.14
#                      }
#                    ]
#                  }
                  physics Physics {
                    density -1
                    mass 0.3
                  }
                  maxForce 100
                  controlP 16
                }
                DEF Right_hip_yaw Transform {
                  translation 0 0.063 0
                  scale 0.001 0.001 0.001
                  children [
                    LEFT_HIP_YAW{}
                  ]
                }
              ]
              name "PelvYR"
#              boundingObject Transform {
#                translation 0 0.02 -0.025
#                children [
#                  Box {
#                    size 0.065 0.1 0.15
#                  }
#                ]
#              }
              physics Physics {
                density -1
                mass 0.05
                centerOfMass 0 0.03 -0.02
              }
              maxForce 100
              controlP 16
            }
            DEF Left_hip_yaw Servo {
              translation 0.072 -0.232 0
              rotation 0 -1 0 0
              children [
                DEF Left_hip_roll Servo {
                  rotation 0 0 -1 0
                  children [
                    DEF Left_hip_pitch Servo {
                      rotation -1 0 0 0
                      children [
                        DEF L_thigh Transform {
                          scale 0.001 0.001 0.001
                          children [
                            L_THIGH{}
                          ]
                        }
                        DEF Left_knee_pitch Servo {
                          translation 0 -0.3 -0.03
                          rotation -1 0 0 0
                          children [
                            DEF L_leg Transform {
                              translation 0 0 0.03
                              scale 0.001 0.001 0.001
                              children [
                                L_LEG{}
                              ]
                            }
                            DEF Left_ankle_pitch Servo {
                              translation 0 -0.3 0.03
                              rotation 1 0 0 0
                              children [
                                DEF Left_ankle_roll Servo {
                                  rotation 0 0 1 0
                                  children [
                                    DEF L_LR_FSR TouchSensor {
                                      translation -0.04 -0.118 -0.06
                                      rotation 1 0 0 1.5708
                                      name "L_LR_FSR"
                                      boundingObject Sphere {
                                        radius 0.001
                                      }
                                      physics Physics {
                                        density -1
                                        mass 0.0001
                                      }
                                      type "force"
                                    }
                                    DEF L_LL_FSR TouchSensor {
                                      translation 0.04 -0.118 -0.06
                                      rotation 1 0 0 1.5708
                                      name "L_LL_FSR"
                                      boundingObject Sphere {
                                        radius 0.001
                                      }
                                      physics Physics {
                                        density -1
                                        mass 0.0001
                                      }
                                      type "force"
                                    }
                                    DEF L_UR_FSR TouchSensor {
                                      translation -0.04 -0.118 0.1
                                      rotation 1 0 0 1.5708
                                      name "L_UR_FSR"
                                      contactMaterial "force"
                                      boundingObject Sphere {
                                        radius 0.001
                                      }
                                      physics Physics {
                                        density -1
                                        mass 0.0001
                                      }
                                      type "force"
                                    }
                                    DEF L_UL_FSR TouchSensor {
                                      translation 0.04 -0.118 0.1
                                      rotation 1 0 0 1.5708
                                      name "L_UL_FSR"
                                      boundingObject Sphere {
                                        radius 0.001
                                      }
                                      physics Physics {
                                        density -1
                                        mass 0.0001
                                      }
                                      type "force"
                                    }
                                    DEF Foot Transform {
                                      scale 0.001 0.001 0.001
                                      children [
                                        FOOT{}
                                      ]
                                    }
                                    DEF Left_ankle_force TouchSensor {
                                      translation 0 -0.09 0
                                      name "LAnkle_force"
                                      boundingObject Transform {
                                        translation 0 -0.003 0.018
                                        children [
                                          Box {
                                            size 0.147 0.05 0.262
                                          }
                                        ]
                                      }
                                      physics Physics {
                                      }
                                      type "force-3d"
                                    }
                                    DEF left_ankle_yaw Servo {
                                      translation 0 -0.09 0
                                      name "left_ankle_yaw"
                                      boundingObject Transform {
                                        translation 0 -0.003 0.018
                                        children [
                                          Box {
                                            size 0.147 0.05 0.262
                                          }
                                        ]
                                      }
                                      physics Physics {
                                      }
                                      maxForce 100
                                    }
                                  ]
                                  name "FootL"
                                  boundingObject Group {
                                    children [
                                      Transform {
                                        translation 0 -0.1115 0.018
                                        children [
                                          Box {
                                            size 0.145 0.012 0.26
                                          }
                                        ]
                                      }
#                                      Transform {
#                                        translation 0 -0.04 -0.013
#                                        children [
#                                          Box {
#                                            size 0.066 0.14 0.13
#                                          }
#                                        ]
#                                      }
                                    ]
                                  }
                                  physics Physics {
                                    density -1
                                    mass 0.6
                                    centerOfMass 0.01 -0.07 0.02
                                  }
                                  maxForce 100
                                  controlP 16
                                }
                                DEF Left_ankle Transform {
                                  scale 0.001 0.001 0.001
                                  children [
                                    LEFT_ANKLE{}
                                  ]
                                }
                              ]
                              name "AnkleL"
#                              boundingObject Transform {
#                                translation 0 0 -0.012
#                                children [
#                                  Box {
#                                    size 0.06 0.06 0.12
#                                  }
#                                ]
#                              }
                              physics Physics {
                                density -1
                                mass 0.2
                              }
                              maxForce 200
                              controlP 16
                            }
                          ]
                          name "LegLowerL"
#                          boundingObject Transform {
#                            translation 0.025 -0.192 0.043
#                            children [
#                              Box {
#                                size 0.144 0.35 0.085
#                              }
#                            ]
#                          }
                          physics Physics {
                            density -1
                            mass 1.1
                            centerOfMass 0.01 -0.16 0
                          }
                          maxForce 200
                          controlP 16
                        }
                      ]
                      name "LegUpperL"
#                      boundingObject Group {
#                        children [
#                          Transform {
#                            translation 0.025 -0.145 0.012
#                            children [
#                              Box {
#                                size 0.144 0.355 0.085
#                              }
#                            ]
#                          }
#                          Transform {
#                            translation 0.025 -0.3 -0.025
#                            rotation 1 0 0 0.7854
#                            children [
#                              Box {
#                                size 0.144 0.066 0.066
#                              }
#                            ]
#                          }
#                        ]
#                      }
                      physics Physics {
                        density -1
                        mass 1.1
                        centerOfMass 0.01 -0.18 0
                      }
                      maxForce 200
                      controlP 16
                    }
                    DEF Right_hip_roll Transform {
                      scale 0.001 0.001 0.001
                      children [
                        RIGHT_HIP_ROLL{}
                      ]
                    }
                  ]
                  name "PelvL"
#                  boundingObject Transform {
#                    translation 0 0 -0.03
#                    children [
#                      Box {
#                        size 0.07 0.07 0.14
#                      }
#                    ]
#                  }
                  physics Physics {
                    density -1
                    mass 0.3
                  }
                  maxForce 100
                  controlP 16
                }
                DEF Left_hip_yaw Transform {
                  translation 0 0.063 0
                  scale 0.001 0.001 0.001
                  children [
                     LEFT_HIP_YAW{}
                  ]
                }
              ]
              name "PelvYL"
#              boundingObject Transform {
#                translation 0 0.02 -0.025
#                children [
#                  Box {
#                    size 0.065 0.1 0.15
#                  }
#                ]
#              }
              physics Physics {
                density -1
                mass 0.05
                centerOfMass 0 0.03 -0.02
              }
              maxForce 100
              controlP 16
            }
          ]
          name "TorsoYaw"
#          boundingObject Transform {
#            translation 0 -0.092 -0.011
#            children [
#              Box {
#                size 0.23 0.149 0.21
#              }
#            ]
#          }
          physics Physics {
            density -1
            mass 0.6
          }
          maxForce 100
          controlP 16
        }
        DEF Torso_pitch_servo Transform {
          translation 0 -0.038 0
          rotation 1 0 0 0
          scale 0.001 0.001 0.001
          children [
            TORSO_PITCH_SERVO{}
          ]
        }
      ]
      name "TorsoPitch"
#      boundingObject Transform {
#        children [
#          Box {
#            size 0.15 0.09 0.08
#          }
#        ]
#      }
      physics Physics {
        density -1
        mass 0.2
      }
      maxForce 200
      controlP 16
    }
    DEF Neck_yaw Servo {
      rotation 0 -1 0 0
      children [
        DEF Neck Transform {
          translation 0 0.05 0
          scale 0.001 0.001 0.001
          children [
           NECK{}
          ]
        }
        DEF Head_pitch Servo {
          translation 0 0.161 0
          rotation -1 0 0 -0.17
          children [
            hokuyo{
						  rotation 0 1 0 3.14159
#              translation 0 0.072 0.0785
              translation 0 0.1 0
              name "HeadLidar"
						}
            Camera {
						  rotation 0 1 0 3.14159
              translation 0 0.072 0.0785
              name "Camera"
              windowPosition IS cameraWindowPosition
              fieldOfView IS cameraFov
              width IS cameraWidth
              height IS cameraHeight
              pixelSize IS cameraPixelSize
              near 0.02
            }
            DEF CAM Transform {
              scale 0.001 0.001 0.001
              children [
                   CAM{}
              ]
            }
          ]
          name "Head"
#          boundingObject Transform {
#            translation 0 0 0.01
#            children [
#              Box {
#                size 0.1 0.18 0.16
#              }
#            ]
#          }
          physics Physics {
            density -1
            mass 0.2
          }
          maxVelocity 16
          maxForce 40
        }
      ]
      name "Neck"
#      boundingObject Transform {
#        translation 0 0.06 0
#        children [
#          Box {
#            size 0.04 0.125 0.04
#          }
#        ]
#      }
      physics Physics {
        density -1
        mass 0.1
        centerOfMass 0 0.06 0
      }
      maxForce 40
      controlP 16
    }
  ]
  name "THOROP_Robotis"
#  boundingObject Transform {
#    translation 0 -0.04 -0.029
#    children [
#      Box {
#        size 0.35 0.23 0.32
#      }
#    ]
#  }
  physics Physics {
    density -1
    mass 1
  }
  controller "void"
}
}
